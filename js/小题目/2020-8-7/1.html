<ul id="container"></ul>

<script>
    const container = document.getElementById('container');
    let total = 10000;
    // for(let i = 0; i < total; i++) {
    //     let li = document.createElement('li');
    //     li.innerText = i;
    //     container.appendChild(li);
    // }
    let once = 20;
    let index = 0;
    // let page = total / once;
    // curTotal当前剩余总数
    function page(curTotal) {
        if(curTotal <= 0) return;
        let pageCount = Math.min(curTotal, once);
        for(let i = 0; i < pageCount; i++) {
            const li = document.createElement('li');
            li.innerText = Math.random();
            container.appendChild(li)
        }
        setTimeout(() => {
            page(curTotal - pageCount);
        }, 16)   // 时间分片
    }
    page(total, index)
</script>